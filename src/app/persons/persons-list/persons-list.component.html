<div class="">
	<h1>{{title}}</h1>
	<button class="add-person" [routerLink]="['new']" >Incluir uma nova pessoa</button>
</div>
<div class="main-wrapper">
	<table mat-table [dataSource]="persons" *ngIf="persons$ | async as persons ; else loading">
		<tr mat-header-row *matHeaderRowDef="columns"></tr>
		<tr mat-row *matRowDef="let myRowData; columns: columns"></tr>
		<ng-container matColumnDef="id">
			<th mat-header-cell *matHeaderCellDef > Id </th>
			<td mat-cell *matCellDef="let person"> {{person.id}} </td>
		</ng-container>
		<ng-container matColumnDef="name">
			<th mat-header-cell *matHeaderCellDef> Nome </th>
			<td mat-cell *matCellDef="let person"> {{person.name}} </td>
		</ng-container>
		<ng-container matColumnDef="cpf">
			<th mat-header-cell *matHeaderCellDef> CPF </th>
			<td mat-cell *matCellDef="let person"> {{person.cpf}} </td>
		</ng-container>
		<ng-container matColumnDef="phone">
			<th mat-header-cell *matHeaderCellDef> Telefone </th>
			<td mat-cell *matCellDef="let person"> {{person.phone}} </td>
		</ng-container>
		<ng-container matColumnDef="email">
			<th mat-header-cell *matHeaderCellDef> E-mail </th>
			<td mat-cell *matCellDef="let person"> {{person.email}} </td>
		</ng-container>
		<ng-container matColumnDef="cep">
			<th mat-header-cell *matHeaderCellDef> CEP </th>
			<td mat-cell *matCellDef="let person"> {{person.cep}} </td>
		</ng-container>
		<ng-container matColumnDef="state">
			<th mat-header-cell *matHeaderCellDef> Estado </th>
			<td mat-cell *matCellDef="let person"> {{person.state}} </td>
		</ng-container>
		<ng-container matColumnDef="city">
			<th mat-header-cell *matHeaderCellDef> Cidade </th>
			<td mat-cell *matCellDef="let person"> {{person.city}} </td>
		</ng-container>
		<ng-container matColumnDef="street">
			<th mat-header-cell *matHeaderCellDef> Rua </th>
			<td mat-cell *matCellDef="let person"> {{person.street}} </td>
		</ng-container>
		<ng-container matColumnDef="actions">
			<th mat-header-cell *matHeaderCellDef> Ações </th>
			<td mat-cell *matCellDef="let person">
				<p class="action action-edit" (click)="edit(person)">Editar</p>
				<p class="action action-delete" (click)="delete(person)">Remover</p>
			</td>
		</ng-container>
	</table>

	<ng-template #loading>
		<div class="row">
			<div class="col-md-12">
			  <span class="loading-data">Carregando Categorias...</span>
			</div>
	   </div>
	  </ng-template>

</div>
